<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[MacOS科学上网]]></title>
    <url>%2F%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0%2F%E5%B7%A5%E5%85%B7%E7%B1%BB%2FMacOs-scientific-Surf-the-Internet.html</url>
    <content type="text"><![CDATA[本文将介绍如何在MacOS上采用VMess协议与墙外VPS通信，其中主要用到了[v2ray]这款开源工具。服务端安装(Centos)因为我选择的VPS的Centos的操作系统，所以此章节主要基于Centos操作系统来描述。安装包下载：wget https://github.com/v2ray/v2ray-core/releases/download/v2.40/v2ray-linux-64.zip解压安装包到/opt目录：unzip v2ray-linux-64.zip -d /opt编写配置文件:12cd /opt/v2ray-v2.40-linux-64vi config.json config.json内容： 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&#123; "log" : &#123; // 日志输出配置 "access": "/var/log/v2ray/access.log", "error": "/var/log/v2ray/error.log", "loglevel": "warning" &#125;, // 对外提供 vmess 协议 "inbound": &#123; "port": 28399, // 监听端口 "protocol": "vmess", "settings": &#123; "clients": [&#123; "id": "3b129ddd-72a3-4d28-aeee-028a0fe86e33", // 可以随机生成一个，但必须保证服务端ID与客户端ID必须保持一致 "level": 1, "alterId": 64, "security": "aes-128-gcm" &#125;] &#125; &#125;, "outbound": &#123; "protocol": "freedom", "settings": &#123;&#125; &#125;, "routing": &#123; "strategy": "rules", "settings": &#123; "rules": [&#123; "type": "field", "ip": [ "0.0.0.0/8", "10.0.0.0/8", "100.64.0.0/10", "127.0.0.0/8", "169.254.0.0/16", "172.16.0.0/12", "192.0.0.0/24", "192.0.2.0/24", "192.168.0.0/16", "198.18.0.0/15", "198.51.100.0/24", "203.0.113.0/24", "::1/128", "fc00::/7", "fe80::/10" ], "outboundTag": "blocked" &#125;] &#125; &#125;&#125; 启动v2ray服务：/opt/v2ray-v2.40-linux-64/v2ray -config=/opt/v2ray-v2.40-linux-64/config.json &gt; v2ray.log &amp; 客户端安装(MacOs) 安装包下载：wget https://github.com/v2ray/v2ray-core/releases/download/v2.40/v2ray-macos.zip 解压安装包到/usr/local/opt目录：unzip v2ray-linux-64.zip -d /usr/local/opt 编写配置文件: 12cd /usr/local/opt/v2ray-v2.40-linux-64vi config.json config.json内容： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&#123; "log" : &#123; "access": "/var/log/v2ray/access.log", "error": "/var/log/v2ray/error.log", "loglevel": "warning" &#125;, // 对外提供 socks5 协议 "inbound": &#123; "port": 1080, // 监听端口 "protocol": "socks", // 入口协议为 SOCKS 5 "settings": &#123; "auth": "noauth" //socks的认证设置，noauth 代表不认证，由于 socks 通常在客户端使用，所以这里不认证 &#125; &#125;, "outbound": &#123; "protocol": "vmess", // 出口协议，对应服务端的入口协议 "settings": &#123; "vnext": [&#123; "address": "serveraddr.com", // 服务器地址，请修改为你自己的服务器 ip 或域名 "port": 28399, // 服务器端口，对应服务器端入口的端口 "users": [&#123; "id": "3b129ddd-72a3-4d28-aeee-028a0fe86e33", // 用户ID, 服务端ID与客户端ID必须保持一致 "alterId": 64 // 此处的值也应当与服务器相同 &#125;] &#125;] &#125; &#125;, "routing": &#123; "strategy": "rules", "settings": &#123; "rules": [&#123; "type": "field", "ip": [ "0.0.0.0/8", "10.0.0.0/8", "100.64.0.0/10", "127.0.0.0/8", "169.254.0.0/16", "172.16.0.0/12", "192.0.0.0/24", "192.0.2.0/24", "192.168.0.0/16", "198.18.0.0/15", "198.51.100.0/24", "203.0.113.0/24", "::1/128", "fc00::/7", "fe80::/10" ], "outboundTag": "blocked" &#125;] &#125; &#125;&#125; 启动v2ray服务：/usr/local/opt/v2ray-v2.40-linux-64/v2ray -config=/usr/local/opt/v2ray-v2.40-linux-64/config.json &gt; v2ray.log &amp; 客户端安装的另一种方式（基于Docker安装） 下载镜像： docker pull v2ray/official 编写配置文件： 123mkdir -p ~/v2raycd ~/v2rayvi config.json # 内容请参考客户端安装(MacOs) 创建容器： 1docker run -d --restart=always --name v2ray -v ~/v2ray:/etc/v2ray -p 1080:1080 v2ray/official v2ray -config=/etc/v2ray/config.json -p 后面跟的端口为config.json中inbound配置的监听端口 校验容器是否创建成功：docker container ls 启动容器：docker start 停止v2ray：docker stop v2ray 重启v2ray：docker restart v2ray 查看日志：docker container log v2ray 更多参考资料 项目：https://github.com/v2ray/v2ray-core 用户手册：https://www.v2ray.com/ 其它文档：https://toutyrater.github.io/]]></content>
      <categories>
        <category>技术笔记</category>
        <category>工具类</category>
      </categories>
      <tags>
        <tag>vmess</tag>
        <tag>翻墙</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World!]]></title>
    <url>%2F%2Fhello-world.html</url>
    <content type="text"><![CDATA[Hello World!这是我的第一篇博客，感谢Hexo提供了一个简单好用的博客框架，感谢NexT优雅的的主题。此博客是本人的一个杂记。为什么叫杂记？其实就是一些乱七八糟的东西，可能是曾经的一些技术笔记，也可能是一些技术专题的连载，也可能是一些生活观点与琐事。]]></content>
  </entry>
</search>
